[pytest]
addopts = --dist loadfile
filterwarnings =
    ignore::pydantic.PydanticDeprecatedSince211
    ignore::pydantic.PydanticDeprecatedSince20
    # Ignorujemy ostrzeżenie PytestUnraisableExceptionWarning (zamykana pętla asyncio
    # dla BaseSubprocessTransport) pojawiające się w testach z ASGITransport/TestClient.
    ignore::pytest.PytestUnraisableExceptionWarning
markers =
    performance: Testy wydajnościowe backendu/Next.
    smoke: Szybkie testy dymne pipeline'u czatu.

# Konfiguracja discovery
norecursedirs =
    .git
    .venv
    node_modules
    web-next
    docs
    docs_dev
    config
    data

testpaths = tests
