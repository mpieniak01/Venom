version: '3.8'

services:
  # Venom Spore Node 1
  spore-1:
    build:
      context: .
      dockerfile: venom_spore/Dockerfile
    container_name: venom-spore-1
    environment:
      - SPORE_NODE_NAME=spore-docker-1
      - SPORE_NEXUS_HOST=host.docker.internal
      - SPORE_NEXUS_PORT=8765
      - SPORE_SHARED_TOKEN=demo-token-123
      - SPORE_NODE_TAGS=worker,docker,location:container-1
      - SPORE_ENABLE_SHELL=true
      - SPORE_ENABLE_FILE=true
      - SPORE_HEARTBEAT_INTERVAL=30
    networks:
      - venom-network
    restart: unless-stopped

  # Venom Spore Node 2
  spore-2:
    build:
      context: .
      dockerfile: venom_spore/Dockerfile
    container_name: venom-spore-2
    environment:
      - SPORE_NODE_NAME=spore-docker-2
      - SPORE_NEXUS_HOST=host.docker.internal
      - SPORE_NEXUS_PORT=8765
      - SPORE_SHARED_TOKEN=demo-token-123
      - SPORE_NODE_TAGS=worker,docker,location:container-2
      - SPORE_ENABLE_SHELL=true
      - SPORE_ENABLE_FILE=true
      - SPORE_HEARTBEAT_INTERVAL=30
    networks:
      - venom-network
    restart: unless-stopped

networks:
  venom-network:
    driver: bridge
