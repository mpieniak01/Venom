============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/Venom/Venom
configfile: pytest.ini
plugins: devtools-0.12.2, anyio-4.12.1, locust-2.43.3, cov-7.0.0, xdist-3.8.0, asyncio-1.3.0, timeout-2.4.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 30 items

tests/test_workflow_operations.py::TestWorkflowStateMachine::test_idle_to_running_is_valid PASSED [  3%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_running_to_paused_is_valid PASSED [  6%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_paused_to_running_is_valid PASSED [ 10%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_running_to_cancelled_is_valid PASSED [ 13%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_failed_to_running_is_valid PASSED [ 16%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_idle_to_paused_is_invalid PASSED [ 20%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_completed_to_running_is_invalid PASSED [ 23%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_get_allowed_transitions_from_running PASSED [ 26%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_get_allowed_transitions_from_paused PASSED [ 30%]
tests/test_workflow_operations.py::TestWorkflowStateMachine::test_get_allowed_transitions_from_idle PASSED [ 33%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_pause_running_workflow FAILED [ 36%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_pause_idle_workflow_fails PASSED [ 40%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_resume_paused_workflow PASSED [ 43%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_resume_running_workflow_fails PASSED [ 46%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_cancel_running_workflow PASSED [ 50%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_cancel_paused_workflow PASSED [ 53%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_cancel_idle_workflow_fails PASSED [ 56%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_retry_failed_workflow PASSED [ 60%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_retry_cancelled_workflow PASSED [ 63%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_retry_with_step_id PASSED [ 66%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_retry_running_workflow_fails PASSED [ 70%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_dry_run_execution PASSED [ 73%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_dry_run_does_not_change_state PASSED [ 76%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_get_workflow_status PASSED [ 80%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_workflow_metadata_tracking PASSED [ 83%]
tests/test_workflow_operations.py::TestWorkflowOperationService::test_singleton_service PASSED [ 86%]
tests/test_workflow_operations.py::TestWorkflowLifecycle::test_normal_workflow_lifecycle PASSED [ 90%]
tests/test_workflow_operations.py::TestWorkflowLifecycle::test_pause_resume_lifecycle PASSED [ 93%]
tests/test_workflow_operations.py::TestWorkflowLifecycle::test_failure_retry_lifecycle PASSED [ 96%]
tests/test_workflow_operations.py::TestWorkflowLifecycle::test_cancel_lifecycle PASSED [100%]

=================================== FAILURES ===================================
___________ TestWorkflowOperationService.test_pause_running_workflow ___________

self = <tests.test_workflow_operations.TestWorkflowOperationService object at 0x7f3256077620>
service = <venom_core.services.workflow_operations.WorkflowOperationService object at 0x7f3256931310>
workflow_id = '6675ee39-7f10-4143-a47b-93ffcd66992a'

    def test_pause_running_workflow(self, service, workflow_id):
        """Test pausing a running workflow."""
        # Set workflow to RUNNING state
        workflow = service._get_or_create_workflow(workflow_id)
        workflow["status"] = WorkflowStatus.RUNNING.value
    
        # Pause the workflow
        response = service.pause_workflow(workflow_id, "test_user")
    
>       assert response.workflow_id == uuid4(workflow_id)
                                       ^^^^^^^^^^^^^^^^^^
E       TypeError: uuid4() takes 0 positional arguments but 1 was given

tests/test_workflow_operations.py:106: TypeError
----------------------------- Captured stderr call -----------------------------
16:36:21 | INFO     | venom_core.services.control_plane_audit:log_operation - Control plane operation logged
16:36:21 | INFO     | venom_core.services.workflow_operations:pause_workflow - Workflow 6675ee39-7f10-4143-a47b-93ffcd66992a paused by test_user
=========================== short test summary info ============================
FAILED tests/test_workflow_operations.py::TestWorkflowOperationService::test_pause_running_workflow - TypeError: uuid4() takes 0 positional arguments but 1 was given
========================= 1 failed, 29 passed in 2.07s =========================
